(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[339],{14625:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/notification/boss",function(){return n(55241)}])},36853:(e,t,n)=>{"use strict";n.d(t,{YB:()=>c,KI:()=>u,Ze:()=>o,mK:()=>m,JG:()=>p});var i=n(50148),a=n(22085),r=n(94967);let o=()=>{let e=(0,a.wA)();return{init:(0,i.useCallback)(()=>e((0,r.Ts)()),[e]),popupOpen:(0,i.useCallback)(t=>e((0,r.LD)(t)),[e]),popupClose:(0,i.useCallback)(t=>e((0,r.Rb)(t)),[e])}};var s=n(41925);let c=()=>{let e=(0,a.wA)();return{init:(0,i.useCallback)(()=>e((0,s.Ts)()),[e]),init2:(0,i.useCallback)(()=>e((0,s.TI)()),[e]),setCurrentEncrypt:(0,i.useCallback)(t=>e((0,s.XD)(t)),[e]),setCurrentPercentage:(0,i.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e((0,s.Il)(t))},[e]),setSeed:(0,i.useCallback)(t=>e((0,s.GN)(t)),[e]),setSuccessCount:(0,i.useCallback)(t=>e((0,s.Zg)(t)),[e]),encrypt:(0,i.useCallback)(()=>e((0,s.w)()),[e])}};var l=n(29224);let u=()=>{let e=(0,a.wA)();return{init:(0,i.useCallback)(()=>e((0,l.Ts)()),[e]),setNextBoss:(0,i.useCallback)(t=>e((0,l.tr)(t)),[e]),setBossTimeTable:(0,i.useCallback)(t=>e((0,l.VG)(t)),[e]),setRemainingTime:(0,i.useCallback)(t=>e((0,l.mK)(t)),[e])}};var d=n(49051);let m=()=>{let e=(0,a.wA)();return{initCharacter:(0,i.useCallback)(t=>e((0,d.c2)(t)),[e]),initLogs:(0,i.useCallback)(t=>e((0,d.c1)(t)),[e]),setName:(0,i.useCallback)(t=>e((0,d.i)(t)),[e]),setImage:(0,i.useCallback)(t=>e((0,d.g7)(t)),[e]),setType:(0,i.useCallback)(t=>e((0,d.dv)(t)),[e]),setTypes:(0,i.useCallback)(t=>e((0,d.Up)(t)),[e]),setXien:(0,i.useCallback)(t=>e((0,d.pB)(t)),[e]),setXiens:(0,i.useCallback)(t=>e((0,d.wl)(t)),[e]),setPercentage:(0,i.useCallback)(t=>e((0,d.pl)(t)),[e]),setStatus:(0,i.useCallback)(t=>e((0,d.Lx)(t)),[e]),setStatusLogs:(0,i.useCallback)(t=>e((0,d.Sj)(t)),[e]),setRedistributionLogs:(0,i.useCallback)(t=>e((0,d.Jn)(t)),[e]),setPrintLogs:(0,i.useCallback)(t=>e((0,d.Ln)(t)),[e]),levelUp:(0,i.useCallback)(()=>e((0,d.e_)()),[e]),prevLogSetting:(0,i.useCallback)(()=>e((0,d._H)()),[e]),stabUp:(0,i.useCallback)(()=>e((0,d.En)()),[e]),hackUp:(0,i.useCallback)(()=>e((0,d.Hn)()),[e]),intUp:(0,i.useCallback)(()=>e((0,d.JX)()),[e]),defUp:(0,i.useCallback)(()=>e((0,d.tG)()),[e]),mrUp:(0,i.useCallback)(()=>e((0,d.H0)()),[e]),dexUp:(0,i.useCallback)(()=>e((0,d.B1)()),[e]),agiUp:(0,i.useCallback)(()=>e((0,d.bT)()),[e]),stabAutoUp:(0,i.useCallback)(()=>e((0,d.Rp)()),[e]),hackAutoUp:(0,i.useCallback)(()=>e((0,d.IY)()),[e]),intAutoUp:(0,i.useCallback)(()=>e((0,d.my)()),[e]),defAutoUp:(0,i.useCallback)(()=>e((0,d.AW)()),[e]),mrAutoUp:(0,i.useCallback)(()=>e((0,d.E9)()),[e]),dexAutoUp:(0,i.useCallback)(()=>e((0,d.GY)()),[e]),agiAutoUp:(0,i.useCallback)(()=>e((0,d.Oj)()),[e])}};var f=n(41148);let p=()=>{let e=(0,a.wA)();return{init:(0,i.useCallback)(()=>e((0,f.Ts)()),[e]),totalCalculate:(0,i.useCallback)(t=>e((0,f.bw)(t)),[e])}}},46111:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,R:()=>i});let i=e=>t=>{let{src:n}=t,i="";if("tw"===e)(n.includes("file.nexon.com")||n.includes("ssl.nexon.com"))&&(i=n);else i=a(t);return i||a(t)};function a(e){let{src:t,width:n,quality:i=100}=e;return"/_next/image?url=".concat(t,"&w=").concat(n,"&q=").concat(i)}var r=n(44117),o=n(50148),s=n(71536),c=n.n(s);function l(e){let{src:t,alt:n,style:i,errorSrc:a,...s}=e,[l,u]=(0,o.useState)(t),[d,m]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{u(t)},[t]),(0,r.Y)(c(),{src:l,alt:n||"",onErrorCapture:()=>{a&&u(a)},onLoad:()=>{m(!1)},style:{opacity:+!d,backgroundColor:"transparent",transition:"opacity 0.4s ease",...i},...s})}},47162:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var i=n(44117),a=n(35364),r=n(35946),o=n(93750);function s(e){let{content:t,placement:n,...s}=e,c=(0,i.Y)(r.A,{variant:"caption",whiteSpace:"pre-line",sx:{display:"block",py:.6,px:.3},children:t&&t.trim()});return(0,i.Y)(a.A,{title:c,arrow:!0,placement:n||"top",...s,children:(0,i.Y)(o.A,{icon:"pajamas:question"})})}},55241:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__N_SSG:()=>eC,default:()=>ey});var i=n(44117),a=n(56381),r=n(72080),o=n(24670),s=n(35946),c=n(50148),l=n(18594),u=n(30601),d=n(52808);let m={currentTimeSetting:"current-time-setting"};function f(e){let{title:t="현재 시간"}=e,a=(0,c.useRef)(null),[r,o]=(0,c.useState)((0,l.oe)("hh")),[f,p]=(0,c.useState)((0,l.oe)("mm")),[h,g]=(0,c.useState)((0,l.oe)("ss")),[b,Y]=(0,c.useState)((0,l.oe)("A"));return(0,c.useEffect)(()=>{var e;return a.current=new Worker(n.tu(new URL(n.p+n.u(331),n.b))),a.current.onmessage=e=>{if(e.data===m.currentTimeSetting){let e=(0,l.oe)("YYYY-MM-DD HH:mm:ss");o((0,l.uK)(e,"hh")),p((0,l.uK)(e,"mm")),g((0,l.uK)(e,"ss")),Y((0,l.uK)(e,"A"))}},null===(e=a.current)||void 0===e||e.postMessage(m.currentTimeSetting),()=>{var e;null===(e=a.current)||void 0===e||e.terminate()}},[]),(0,i.FD)(u.A,{sx:e=>({marginBottom:"30px",padding:"15px",border:"1px solid ".concat(e.palette.divider),borderRadius:"10px"}),children:[(0,i.Y)(s.A,{fontSize:25,textAlign:"center",children:t}),(0,i.FD)(d.A,{direction:"row",alignItems:"center",justifyContent:"center",spacing:2,children:[(0,i.Y)(s.A,{component:"span",fontSize:{xs:15,sm:25,md:35},suppressHydrationWarning:!0,children:b}),(0,i.Y)(s.A,{component:"span",fontSize:{xs:30,sm:40,md:50},suppressHydrationWarning:!0,children:r}),(0,i.Y)(s.A,{component:"span",fontSize:{xs:25,sm:35,md:45},children:":"}),(0,i.Y)(s.A,{component:"span",fontSize:{xs:30,sm:40,md:50},suppressHydrationWarning:!0,children:f}),(0,i.Y)(s.A,{component:"span",fontSize:{xs:25,sm:35,md:45},children:":"}),(0,i.Y)(s.A,{component:"span",fontSize:{xs:30,sm:40,md:50},sx:e=>({color:Number(h)>=50?"#ff4444":e.palette.text.primary}),suppressHydrationWarning:!0,children:h})]})]})}var p=n(66375),h=n(41999);function g(){return(0,i.FD)(i.FK,{children:[(0,i.Y)(s.A,{component:"h2",fontSize:25,margin:"30px 0 10px",children:"공지사항"}),(0,i.Y)(h.A,{sx:{padding:"15px",borderRadius:"10px"},children:(0,i.FD)(d.A,{spacing:1,children:[(0,i.FD)(u.A,{children:[(0,i.Y)(s.A,{children:"2023년 12월 20일 부터 주요 던전과 필드 보스의 상세 정보를 확인할 수 있는 콘텐츠 정보 시스템이 업데이트 되었습니다."}),(0,i.Y)(s.A,{children:"(게임 내 오른쪽 사이드 메뉴 버튼 또는 단축키(Ctrl+T)로 UI 오픈)"})]}),(0,i.Y)(s.A,{fontWeight:600,children:"이제 드랍아이템은 인게임에서 정확하게 확인이 가능해졌습니다."})]})})]})}var b=n(42498),Y=n(2655);function A(e,t){let n=t&&!Array.isArray(t)&&"object"==typeof t,[i,a]=(0,c.useState)(()=>{let n=v(e);return n||t}),r=!function e(t,n){if(null==t||null==n)return t===n;if(typeof t!=typeof n)return!1;if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return t===n;if(Array.isArray(t)&&Array.isArray(n))return t.length===n.length&&t.every((t,i)=>e(t,n[i]));if("object"==typeof t&&"object"==typeof n){let i=Object.keys(t),a=Object.keys(n);return i.length===a.length&&i.every(i=>e(t[i],n[i]))}return!1}(i,t),o=(0,c.useCallback)(t=>{n?a(n=>{let i={...n,...t};return x(e,i),i}):(x(e,t),a(t))},[e,n]),s=(0,c.useCallback)((e,t)=>{n&&o({[e]:t})},[n,o]),l=(0,c.useCallback)(()=>{a(t),function(e){try{window.localStorage.removeItem(e)}catch(e){console.error("Error while removing from storage:",e)}}(e)},[t,e]);return(0,c.useMemo)(()=>({state:i,setState:o,setField:s,resetState:l,canReset:r}),[r,l,s,o,i])}function v(e){try{let t=(0,Y.kV)(e);if(t)return JSON.parse(t)}catch(e){}return null}function x(e,t){try{let n=JSON.stringify(t);window.localStorage.setItem(e,n)}catch(e){console.error("Error while setting storage:",e)}}var k=n(69385);let w={isGolonNotification:!0,isGolmodapNotification:!0,isAKanNotification:!0,isSperchendNotification:!0,isOriginOfRuinNotification:!0,isBuffNotification:!0,is10MinutesNotification:!0,is5MinutesNotification:!0,is3MinutesNotification:!0,is1MinutesNotification:!0};var C=n(61649),y=n(36853),S=n(53357),D=n(78858),_=n(17658),M=n(88532),N=n(3190);let H=e=>({"& .MuiDialog-paper":{borderRadius:"10px",backgroundImage:"none"},top:-15,left:-20,right:-20,bottom:-15,...(0,N.lq)(e)}),F={display:"flex",alignItems:"center",justifyContent:"space-between"};var R=n(93848),z=n(22085),I=n(78081);function U(e){let{name:t,title:n,maxWidth:a="lg",children:r}=e,{popup1:o,popup2:l,popup3:u,popup4:d,popup5:m}=(0,z.d4)(e=>{let{popup:t}=e;return t},I.bN),{popupClose:f}=(0,y.Ze)(),p=(0,c.useCallback)(e=>{let t=!1;switch(e){case 1:default:t=o;break;case 2:t=l;break;case 3:t=u;break;case 4:t=d;break;case 5:t=m}return t},[o,l,u,d,m]),h=(0,c.useCallback)(()=>{f(t)},[t,f]);return(0,i.FD)(S.A,{fullWidth:!0,maxWidth:a,open:p(t),onClose:h,"aria-labelledby":"dialog-title",sx:H,children:[(0,i.FD)(D.A,{id:"dialog-title",sx:F,children:[(0,i.Y)(s.A,{fontSize:"19px",fontWeight:600,children:n}),(0,i.Y)(M.A,{onClick:h,"aria-label":"dialog-close",disableRipple:!0,sx:e=>({color:e.palette.grey[500],pr:0}),children:(0,i.Y)(R.A,{src:"/assets/icons/ic_xmark.svg"})})]}),(0,i.Y)(_.A,{sx:{pb:"24px"},children:r})]})}function L(){return(0,i.Y)(U,{name:1,title:"알림 설정",maxWidth:"md",children:(0,i.Y)(j,{})})}function j(){let{state:{isGolonNotification:e,isGolmodapNotification:t,isAKanNotification:n,isSperchendNotification:a,isOriginOfRuinNotification:r,isBuffNotification:o,is10MinutesNotification:c,is5MinutesNotification:l,is3MinutesNotification:u,is1MinutesNotification:m},setField:f}=A("boss-notification-settings",w),{data:p=[]}=(0,k.LP)(),h=i=>{if("골론"===i)return e;if("골모답"===i)return t;if("아칸"===i)return n;if("스페르첸드"===i)return a;if("파멸의 기원"===i)return r},g=(e,t)=>(n,i)=>{"m"===t&&(10===e?f("is10MinutesNotification",i):5===e?f("is5MinutesNotification",i):3===e?f("is3MinutesNotification",i):1===e&&f("is1MinutesNotification",i)),"s"===t&&20===e&&f("isBuffNotification",i)},Y=e=>(t,n)=>{"골론"===e?f("isGolonNotification",n):"골모답"===e?f("isGolmodapNotification",n):"아칸"===e?f("isAKanNotification",n):"스페르첸드"===e?f("isSperchendNotification",n):"파멸의 기원"===e&&f("isOriginOfRuinNotification",n)};return(0,i.FD)(i.FK,{children:[(0,i.Y)(s.A,{fontSize:17,children:"보스 알림 설정"}),(0,i.Y)(d.A,{direction:"row",spacing:3,flexWrap:"wrap",children:p.map(e=>(0,i.FD)(d.A,{direction:"row",alignItems:"center",justifyContent:"center",children:[(0,i.Y)(C.A,{checked:h(e.name),onChange:Y(e.name)}),(0,i.Y)(s.A,{children:e.name})]},e.id))}),(0,i.Y)(b.A,{sx:{mt:1,mb:2}}),(0,i.Y)(s.A,{fontSize:17,children:"시간 알림 설정"}),(0,i.FD)(d.A,{direction:"row",spacing:4,flexWrap:"wrap",children:[(0,i.FD)(d.A,{direction:"row",alignItems:"center",justifyContent:"center",children:[(0,i.Y)(C.A,{checked:c,onChange:g(10,"m")}),(0,i.Y)(s.A,{children:"10분"})]}),(0,i.FD)(d.A,{direction:"row",alignItems:"center",justifyContent:"center",children:[(0,i.Y)(C.A,{checked:l,onChange:g(5,"m")}),(0,i.Y)(s.A,{children:"5분"})]}),(0,i.FD)(d.A,{direction:"row",alignItems:"center",justifyContent:"center",children:[(0,i.Y)(C.A,{checked:u,onChange:g(3,"m")}),(0,i.Y)(s.A,{children:"3분"})]}),(0,i.FD)(d.A,{direction:"row",alignItems:"center",justifyContent:"center",children:[(0,i.Y)(C.A,{checked:m,onChange:g(1,"m")}),(0,i.Y)(s.A,{children:"1분"})]}),(0,i.FD)(d.A,{direction:"row",alignItems:"center",justifyContent:"center",children:[(0,i.Y)(C.A,{checked:o,onChange:g(20,"s")}),(0,i.Y)(s.A,{children:"20초전 버프 알림"})]})]})]})}var K=n(55543);function T(e,t,n){return(0,K.A)(e).diff(t,n)}function W(e,t,n){return(0,K.A)(e).add(t,n)}function O(e,t,n){return(0,K.A)(e).subtract(t,n)}function E(e){let{commonDataRef:t}=e,{workerRemainingTime:n}=en(),{setRemainingTime:i}=(0,y.KI)(),a=()=>{let e=t.current.boss,n="",a=(0,K.A)().hour(),r=T((0,l.oe)("YYYY-MM-DD HH:mm"),null==e?void 0:e.appearance_date,"days"),o=T(n=23===a?W(null==e?void 0:e.appearance_date,1,"day").format("YYYY-MM-DD HH:mm"):r>0?W(null==e?void 0:e.appearance_date,r,"day").format("YYYY-MM-DD HH:mm"):"".concat((0,l.oe)("YYYY-MM-DD")," ").concat((0,l.uK)(null==e?void 0:e.appearance_date,"HH:mm")),W((0,l.oe)("YYYY-MM-DD HH:mm:ss"),1,"second")),s=Math.floor(o/36e5),c=Math.floor(o%36e5/6e4),u=Math.floor(o%6e4/1e3),d=String(s).padStart(2,"0"),m=String(c).padStart(2,"0"),f=String(u).padStart(2,"0");i("".concat(d,":").concat(m,":").concat(f))};return(0,c.useEffect)(()=>(n&&(n.onmessage=e=>{"remaining-time-setting"===e.data&&a()},n.postMessage("remaining-time-setting")),()=>{n&&(n.onmessage=null)}),[n]),null}function P(e){let{commonDataRef:t}=e,{workerBossInformation:n}=en(),{data:i=[]}=(0,k.LP)(),{setNextBoss:a,setBossTimeTable:r}=(0,y.KI)(),o=()=>{let e=[];i.map(t=>{t.appearance_times.map(n=>{e.push({...t,appearance_date:"".concat((0,l.oe)("YYYY-MM-DD")," ").concat(n.time)})})}),e.sort((e,t)=>(0,l.w$)(e.appearance_date)-(0,l.w$)(t.appearance_date)),t.current.timeTable=e,r(e)},s=()=>{let{timeTable:e}=t.current,{length:n}=e;for(let o=0;o<n;o++){var i,r;let n=e[o],s="",c=(0,K.A)().hour(),u=T((0,l.oe)("YYYY-MM-DD HH:mm"),n.appearance_date,"days");if(s=23===c?W(n.appearance_date,1,"day").format("YYYY-MM-DD HH:mm"):u>0?W(n.appearance_date,u,"day").format("YYYY-MM-DD HH:mm"):"".concat((0,l.oe)("YYYY-MM-DD")," ").concat((0,l.uK)(n.appearance_date,"HH:mm")),i=(0,l.oe)("YYYY-MM-DD HH:mm"),r=s,!(0,K.A)(i).isSameOrAfter(r)){a(n),t.current.boss=n;return}}};return(0,c.useEffect)(()=>(o(),s(),n&&(n.onmessage=e=>{"next-boss-setting"===e.data&&s()},n.postMessage("next-boss-setting")),()=>{n&&(n.onmessage=null)}),[n]),null}function B(e,t){t&&e&&(e.src=t,e.play())}n(19810);var G=n(57707);function X(e,t){if(e===G.Q[0].id)return!!t.isGolonNotification;if(e===G.Q[1].id)return!!t.isGolmodapNotification;if(e===G.Q[2].id)return!!t.isAKanNotification;if(e===G.Q[3].id)return!!t.isSperchendNotification;if(e===G.Q[4].id)return!!t.isOriginOfRuinNotification;return!0}let J=["/sounds/buff/audio_0.wav","/sounds/buff/audio_1.wav","/sounds/buff/audio_3.wav","/sounds/buff/audio_4.wav","/sounds/buff/audio_5.wav","/sounds/buff/audio_6.wav"];function Q(e){let{commonDataRef:t}=e,{workerVoiceNotification:n,audioRef:i}=en(),a=()=>{let e=t.current.boss,n=(0,l.oe)("HH:mm"),a=O(null==e?void 0:e.appearance_date,10,"minute").format("HH:mm"),r=O(null==e?void 0:e.appearance_date,5,"minute").format("HH:mm"),o=O(null==e?void 0:e.appearance_date,3,"minute").format("HH:mm"),s=O(null==e?void 0:e.appearance_date,1,"minute").format("HH:mm"),c=v("boss-notification-settings")||w;X(null==e?void 0:e.id,c)&&(n===a?c.is10MinutesNotification&&B(i.current,null==e?void 0:e.sound_path.minutes10_ago):n===r?c.is5MinutesNotification&&B(i.current,null==e?void 0:e.sound_path.minutes5_ago):n===o?c.is3MinutesNotification&&B(i.current,null==e?void 0:e.sound_path.minutes3_ago):n===s&&c.is1MinutesNotification&&B(i.current,null==e?void 0:e.sound_path.minutes1_ago))},r=()=>{let e=t.current.boss,n=(0,l.oe)("HH:mm:ss"),a=O(null==e?void 0:e.appearance_date,20,"second").format("HH:mm:ss"),r=v("boss-notification-settings")||w;X(null==e?void 0:e.id,r)&&n===a&&r.isBuffNotification&&B(i.current,J[Math.floor(Math.random()*J.length)])};return(0,c.useEffect)(()=>(n&&(n.onmessage=e=>{let t=e.data;"voice-notification"===t?a():"buff-notification"===t&&r()}),()=>{n&&(n.onmessage=null)}),[n]),null}var V=n(97014),q=n(52079);function Z(e){let{commonDataRef:t}=e,{workerPushNotification:n,serviceWorkerPushNotification:i}=en(),{state:a}=A("boss-notification-settings",w),r=(e,t)=>{try{i&&i.showNotification("테일즈룬 보스 알리미",{body:e,icon:t})}catch(e){(0,V.M8)("정상적인 푸시 알림이 불가능한 상태입니다.",{variant:"error"})}},o=()=>{let e=t.current.boss,n=(0,l.oe)("HH:mm"),i=O(null==e?void 0:e.appearance_date,10,"minute").format("HH:mm"),a=O(null==e?void 0:e.appearance_date,5,"minute").format("HH:mm"),o=O(null==e?void 0:e.appearance_date,3,"minute").format("HH:mm"),s=O(null==e?void 0:e.appearance_date,1,"minute").format("HH:mm"),c=v("boss-notification-settings")||w;X(null==e?void 0:e.id,c)&&(n===i?c.is10MinutesNotification&&r("필드 보스 ".concat(null==e?void 0:e.name," 출현 10분 전입니다."),"".concat(q.F.URL,"/assets/images/tw/boss/").concat(null==e?void 0:e.image)):n===a?c.is5MinutesNotification&&r("필드 보스 ".concat(null==e?void 0:e.name," 출현 5분 전입니다."),"".concat(q.F.URL,"/assets/images/tw/boss/").concat(null==e?void 0:e.image)):n===o?c.is3MinutesNotification&&r("필드 보스 ".concat(null==e?void 0:e.name," 출현 3분 전입니다."),"".concat(q.F.URL,"/assets/images/tw/boss/").concat(null==e?void 0:e.image)):n===s&&c.is1MinutesNotification&&r("필드 보스 ".concat(null==e?void 0:e.name," 출현 1분 전입니다."),"".concat(q.F.URL,"/assets/images/tw/boss/").concat(null==e?void 0:e.image)))},s=()=>{let e=t.current.boss,n=(0,l.oe)("HH:mm:ss"),i=O(null==e?void 0:e.appearance_date,20,"second").format("HH:mm:ss");X(null==e?void 0:e.id,a)&&n===i&&a.isBuffNotification&&r("".concat(20,"초 전입니다. 버프를 사용해 주세요."),"".concat(q.F.URL,"/assets/images/tw/error.png"))};return(0,c.useEffect)(()=>(n&&(n.onmessage=e=>{let t=e.data;"push-notification"===t?o():"push-buff-notification"===t&&s()}),()=>{n&&(n.onmessage=null)}),[n,i]),null}function $(){let e=(0,c.useRef)({boss:void 0,timeTable:[]});return(0,i.FD)(i.FK,{children:[(0,i.Y)(P,{commonDataRef:e}),(0,i.Y)(E,{commonDataRef:e}),(0,i.Y)(Q,{commonDataRef:e}),(0,i.Y)(Z,{commonDataRef:e})]})}let ee=(0,c.createContext)({audioRef:{current:null},workerRemainingTime:null,workerBossInformation:null,workerVoiceNotification:null,workerPushNotification:null,serviceWorkerPushNotification:null}),et=e=>{let{children:t}=e,a=(0,c.useRef)(null),[r,o]=(0,c.useState)(null),[s,l]=(0,c.useState)(null),[u,d]=(0,c.useState)(null),[m,f]=(0,c.useState)(null),[p,h]=(0,c.useState)(null),g=e=>{e.postMessage("clean"),e.terminate()};(0,c.useEffect)(()=>{let e={type:"module"};return o(new Worker(n.tu(new URL(n.p+n.u(465),n.b)),Object.assign({},e,{type:void 0}))),l(new Worker(n.tu(new URL(n.p+n.u(500),n.b)),Object.assign({},e,{type:void 0}))),d(new Worker(n.tu(new URL(n.p+n.u(138),n.b)),Object.assign({},e,{type:void 0}))),f(new Worker(n.tu(new URL(n.p+n.u(719),n.b)),Object.assign({},e,{type:void 0}))),()=>{r&&g(r),s&&g(s),u&&g(u),m&&g(m)}},[]),(0,c.useEffect)(()=>((async()=>{"serviceWorker"in navigator&&h(await navigator.serviceWorker.register("/service-workers/notifications/boss/push-notification.worker.js"))})(),()=>{p&&p.unregister()}),[]);let b=(0,c.useMemo)(()=>({audioRef:a,workerBossInformation:r,workerRemainingTime:s,workerVoiceNotification:u,workerPushNotification:m,serviceWorkerPushNotification:p}),[a,r,s,u,m,p]);return(0,i.FD)(ee.Provider,{value:b,children:[(0,i.Y)($,{}),t]})},en=()=>(0,c.useContext)(ee);var ei=n(79089),ea=n(47162),er=n(22395);function eo(){let{workerPushNotification:e,serviceWorkerPushNotification:t}=en(),[n,a]=(0,c.useState)(!1),r=t=>{s("푸시 알림이 활성화 되었습니다.","".concat(q.F.URL,"/assets/images/tw/error.png")),a(t),e&&(e.postMessage("push-notification"),e.postMessage("push-buff-notification"))},o=e=>{(0,er.M8)(e.trim(),{variant:"error"}),a(!1)},s=(e,n)=>{try{t&&t.showNotification("테일즈룬 보스 알리미",{body:e,icon:n})}catch(e){(0,er.M8)("정상적인 푸시 알림이 불가능한 상태입니다.",{variant:"error"})}};return(0,i.Y)(u.A,{minWidth:{md:154},children:(0,i.FD)(d.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,i.Y)(ei.A,{control:(0,i.Y)(C.A,{checked:n,onChange:(t,n)=>{(async()=>{n?"Notification"in window?"granted"===Notification.permission?r(n):"denied"!==Notification.permission?"granted"===await Notification.requestPermission()?r(n):o("\n                            현재 알림 권한이 없습니다.\n                            사이트 설정에서 알림 권한을 허용해 주세요.\n    \n                            *시크릿 모드, Private 모드에서는 알림이 활성화되지 않습니다.\n                        "):o("\n                        현재 알림 권한이 없습니다.\n                        사이트 설정에서 알림 권한을 허용해 주세요.\n\n                        *시크릿 모드, Private 모드에서는 알림이 활성화되지 않습니다.\n                    "):o("현재 사용중인 브라우저는 알림을 지원하지 않습니다."):(a(!1),e&&e.postMessage("clean"))})()}}),label:"푸시 알림 사용",sx:{mr:0}}),(0,i.Y)(ea.Y,{content:"\n                        아래와 같은 알림을 받습니다.\n                        - 운영체제(윈도우, 맥 등) 알림 시스템 트레이 \n                        - 모바일(안드로이드, IOS 등) 푸시 알림\n\n                        아래와 같은 조건이 필요합니다.\n                        - 브라우저가 실행된 상태로있어야됩니다.\n                        - 알림 권한이 허용되어 있어야 합니다. (브라우저에서 사이트 설정 확인)\n                    "})]})})}var es=n(57829),ec=n(23883);let el=(0,c.forwardRef)((e,t)=>{let{onChangeVolume:n}=e,[a,r]=(0,c.useState)(.5);return(0,i.FD)(d.A,{direction:"row",spacing:2,width:"200px",alignItems:"center",children:[(0,i.FD)("audio",{ref:t,children:[(0,i.Y)("track",{kind:"captions",label:"테일즈위버",default:!0}),"브라우저가 오디오를 지원하지 않습니다."]}),(0,i.Y)(R.A,{src:"/assets/icons/ic_volume_low.svg",sx:{width:40,heigth:40,marginLeft:"0 !important"}}),(0,i.Y)(ec.Ay,{value:a,step:.01,min:0,max:1,onChange:(e,t)=>{let i=parseFloat(String(t));r(i),n&&n(i)},"aria-label":"Volume",sx:{"& .MuiSlider-thumb":{width:15,height:15},"& .MuiSlider-thumb:hover":{boxShadow:"0px 0px 0px 6px rgba(32, 101, 209, 0.16) !important"}}}),(0,i.Y)(R.A,{src:"/assets/icons/ic_volume_high.svg",sx:{width:50,heigth:50}})]})}),eu={voiceNotification:"voice-notification",buffNotification:"buff-notification"};function ed(){let{workerVoiceNotification:e,audioRef:t}=en(),[n,a]=(0,c.useState)(!1);return(0,i.FD)(d.A,{direction:{xs:"column",md:"row"},spacing:4,alignItems:"center",width:"100%",children:[(0,i.FD)(d.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,i.Y)(ei.A,{control:(0,i.Y)(C.A,{checked:n,onChange:(n,i)=>{i?((0,er.M8)("음성 알림을 시작합니다.\n[ 음성알림 시간 ]\n- 필드보스 출현: 1, 3, 5, 10분 전\n- 필드보스 출현 전 버프 사용: 20초 전 \n\n* 이 콘텐츠는 인공지능 가상 연기자 서비스\n  타입캐스트를 활용하여 제작되었습니다.\n  출연진 : 류은\n  https://typecast.ai/kr",{variant:"info"}),B(null==t?void 0:t.current,"/sounds/audio_음성알림시작.mp3"),e&&(e.postMessage(eu.voiceNotification),e.postMessage(eu.buffNotification))):((0,er.M8)("음성 알림을 중지합니다.",{variant:"success"}),e&&e.postMessage("clean")),a(i)}}),label:"음성 알림 사용",sx:{mr:0}}),(0,i.Y)(ea.Y,{content:"\n                        아래와 같은 알림을 받습니다.\n                        - 음성 알림\n\n                        아래와 같은 조건이 필요합니다.\n                        - 브라우저가 실행된 상태로있어야됩니다.\n                    "})]}),(0,i.Y)(u.A,{sx:{ml:{md:"auto !important"}},children:(0,i.FD)(d.A,{spacing:1.2,alignItems:"center",justifyContent:"center",children:[(0,i.Y)(es.A,{variant:"contained",color:"primary",onClick:()=>{B(null==t?void 0:t.current,"/sounds/음성알림 테스트.mp3")},sx:{minWidth:167},children:"소리조절용 음성듣기"}),(0,i.Y)(el,{ref:t,onChangeVolume:e=>{t.current&&(t.current.volume=e)}})]})})]})}var em=n(10244);function ef(){let e=(0,z.d4)(e=>{let{notification:t}=e;return t.remainingTime});return(0,i.FD)(em.A,{size:{xs:12,md:6,lg:3},sx:{mt:{xs:2,lg:0},textAlign:"center"},children:[(0,i.Y)(s.A,{fontSize:20,children:"남은 시간"}),(0,i.Y)(s.A,{fontSize:50,lineHeight:1.2,children:e})]})}var ep=n(85359),eh=n(46111);function eg(){let e=(0,z.d4)(e=>{let{notification:t}=e;return t.boss.nextBoss},I.bN),t=(0,i.Y)(em.A,{size:{xs:12,md:6,lg:2},sx:{"& img":{margin:{xs:"0 auto 13px",md:"0 auto",lg:"0 auto 0 0"}}},children:(null==e?void 0:e.image)&&(0,i.Y)(eh.A,{src:"".concat(q.F.URL,"/assets/images/tw/boss/").concat(null==e?void 0:e.image),alt:"보스",width:250,height:160,style:{display:"block",width:"auto"}})}),n=(0,i.FD)(em.A,{size:{xs:12,md:6,lg:4},sx:{textAlign:{xs:"center",lg:"left"}},children:[(0,i.Y)(s.A,{fontSize:30,children:null==e?void 0:e.name}),(0,i.Y)(s.A,{fontSize:20,children:null==e?void 0:e.location}),(null==e?void 0:e.drop_link)&&(0,i.FD)(d.A,{direction:"row",alignItems:"center",justifyContent:{xs:"center",lg:"left"},children:[(0,i.Y)(R.A,{src:"/assets/icons/navbar/ic_external.svg",color:"#388be3"}),(0,i.Y)(ep.A,{href:null==e?void 0:e.drop_link,target:"_blank",rel:"noopener noreferrer",sx:{color:"#388be3",fontSize:20},children:"드랍아이템"})]})]}),a=(0,i.FD)(em.A,{size:{xs:12,md:6,lg:3},sx:{mt:{xs:3,lg:0},textAlign:"center"},children:[(0,i.Y)(s.A,{fontSize:20,children:"출현 시간"}),(0,i.Y)(s.A,{fontSize:50,lineHeight:1.2,children:(null==e?void 0:e.appearance_date)?(0,l.uK)(null==e?void 0:e.appearance_date,"HH:mm"):"00:00"})]});return(0,i.FD)(i.FK,{children:[t,n,a]})}function eb(){return(0,i.FD)(em.A,{container:!0,alignItems:"center",justifyItems:"center",marginBottom:1,children:[(0,i.Y)(eg,{}),(0,i.Y)(ef,{})]})}function eY(e){let{openNumber:t,PopupComponent:n,children:a,...r}=e,{popupOpen:o}=(0,y.Ze)();return(0,i.FD)(i.FK,{children:[(0,i.Y)(es.A,{onClick:()=>{o(t)},...r,children:a}),n]})}function eA(){return(0,i.FD)(i.FK,{children:[(0,i.FD)(d.A,{direction:"row",alignItems:"center",justifyContent:"space-between",margin:"30px 0 10px",spacing:1,children:[(0,i.Y)(s.A,{component:"h2",fontSize:25,children:"다음 필드보스"}),(0,i.Y)(eY,{openNumber:1,variant:"contained",PopupComponent:(0,i.Y)(L,{}),children:"알림 설정"})]}),(0,i.Y)(et,{children:(0,i.FD)(h.A,{sx:{padding:"15px",borderRadius:"10px"},children:[(0,i.Y)(eb,{}),(0,i.Y)(b.A,{}),(0,i.FD)(d.A,{direction:{xs:"column",md:"row"},spacing:{xs:0,md:2},alignItems:"center",margin:"20px 0 0",children:[(0,i.Y)(eo,{}),(0,i.Y)(ed,{})]})]})})]})}function ev(){return(0,i.FD)(i.FK,{children:[(0,i.Y)(s.A,{component:"h2",fontSize:25,margin:"30px 0 10px",children:"알림없는 보스"}),(0,i.FD)(h.A,{sx:{padding:"15px",borderRadius:"10px"},children:[(0,i.Y)(s.A,{fontSize:18,children:"장소: 프라바 전초기지"}),(0,i.Y)(s.A,{fontSize:18,children:"프라바 방어전: 매시간 짝수"}),(0,i.Y)(s.A,{fontSize:18,children:"프라바 필드보스: 매시간 홀수"})]})]})}function ex(){let{data:e=[]}=(0,k.LP)();return(0,i.FD)(i.FK,{children:[(0,i.Y)(s.A,{component:"h2",fontSize:25,margin:"30px 0 10px",children:"필드보스 시간표"}),(0,i.Y)(em.A,{container:!0,spacing:2,children:null==e?void 0:e.map(e=>(0,i.Y)(em.A,{size:{xs:12,md:6,lg:3},children:(0,i.FD)(h.A,{sx:{padding:"15px",borderRadius:"10px",textAlign:"center"},children:[e.image&&(0,i.Y)(eh.A,{src:"".concat(q.F.URL,"/assets/images/tw/boss/").concat(e.image),alt:e.name,width:250,height:180,style:{width:"auto",margin:"0 auto"}}),(0,i.Y)(s.A,{fontSize:30,marginTop:2,children:e.name}),(0,i.Y)(s.A,{fontSize:20,children:e.location}),e.drop_link&&(0,i.FD)(d.A,{direction:"row",alignItems:"center",justifyContent:"center",children:[(0,i.Y)(R.A,{src:"/assets/icons/navbar/ic_external.svg",color:"#388be3"}),(0,i.Y)(ep.A,{href:e.drop_link,target:"_blank",rel:"noopener noreferrer",sx:{color:"#388be3",fontSize:20},children:"드랍아이템"})]}),(0,i.Y)(d.A,{marginTop:2,height:180,children:e.appearance_times.map((e,t)=>(0,i.Y)(s.A,{fontSize:20,children:e.time},"".concat(t).concat(e.time)))})]})},e.id))})]})}function ek(){let{themeStretch:e}=(0,r.Mp)();return(0,i.FD)(o.A,{component:"section",maxWidth:!e&&"xl",children:[(0,i.Y)(p.H2,{style:{display:"block",width:"100%",marginBottom:30},client:"ca-pub-4630727689655943",slot:"4321772552",format:"horizontal",responsive:"true"}),(0,i.Y)(s.A,{component:"h1",fontSize:25,paragraph:!0,children:"보스 알리미"}),(0,i.Y)(f,{title:"테일즈위버 시간"}),(0,i.Y)(eA,{}),(0,i.Y)(ev,{}),(0,i.Y)(g,{}),(0,i.Y)(ex,{})]})}var ew=n(44466);ey.getLayout=(e,t)=>(0,i.Y)(a.A,{...t,children:e});var eC=!0;function ey(){return(0,i.FD)(i.FK,{children:[(0,i.Y)(ew.A,{title:"보스 알리미 - 테일즈룬",description:"테일즈위버 보스 알림 입니다."}),(0,i.Y)(ek,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[114,586,302,943,636,593,792],()=>t(14625)),_N_E=e.O()}]);